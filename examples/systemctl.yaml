name: Systemctl Commands
description: Systemd service management

commands:
  # Service status
  - name: service status
    command: systemctl
    args: ["status", "{{service}}"]
    description: Show status of a service
    placeholders:
      service:
        source: "systemctl list-units --type=service --no-legend | awk '{print $1}'"

  - name: service start
    command: sudo
    args: ["systemctl", "start", "{{service}}"]
    description: Start a service
    placeholders:
      service:
        source: "systemctl list-units --type=service --state=inactive --no-legend | awk '{print $1}'"

  - name: service stop
    command: sudo
    args: ["systemctl", "stop", "{{service}}"]
    description: Stop a service
    placeholders:
      service:
        source: "systemctl list-units --type=service --state=running --no-legend | awk '{print $1}'"

  - name: service restart
    command: sudo
    args: ["systemctl", "restart", "{{service}}"]
    description: Restart a service
    placeholders:
      service:
        source: "systemctl list-units --type=service --state=running --no-legend | awk '{print $1}'"

  - name: service reload
    command: sudo
    args: ["systemctl", "reload", "{{service}}"]
    description: Reload service configuration
    placeholders:
      service:
        source: "systemctl list-units --type=service --state=running --no-legend | awk '{print $1}'"

  - name: service enable
    command: sudo
    args: ["systemctl", "enable", "{{service}}"]
    description: Enable service to start on boot
    placeholders:
      service:
        source: "systemctl list-unit-files --type=service --state=disabled --no-legend | awk '{print $1}'"

  - name: service disable
    command: sudo
    args: ["systemctl", "disable", "{{service}}"]
    description: Disable service from starting on boot
    placeholders:
      service:
        source: "systemctl list-unit-files --type=service --state=enabled --no-legend | awk '{print $1}'"

  - name: service enable now
    command: sudo
    args: ["systemctl", "enable", "--now", "{{service}}"]
    description: Enable and start service immediately
    placeholders:
      service:
        source: "systemctl list-unit-files --type=service --state=disabled --no-legend | awk '{print $1}'"

  # Listing
  - name: list running
    command: systemctl
    args: ["list-units", "--type=service", "--state=running"]
    description: List all running services

  - name: list failed
    command: systemctl
    args: ["--failed"]
    description: List all failed units

  - name: list enabled
    command: systemctl
    args: ["list-unit-files", "--type=service", "--state=enabled"]
    description: List all enabled services

  - name: list timers
    command: systemctl
    args: ["list-timers", "--all"]
    description: List all systemd timers

  # System commands
  - name: daemon reload
    command: sudo
    args: ["systemctl", "daemon-reload"]
    description: Reload systemd manager configuration

  - name: system reboot
    command: sudo
    args: ["systemctl", "reboot"]
    description: Reboot the system

  - name: system poweroff
    command: sudo
    args: ["systemctl", "poweroff"]
    description: Power off the system

  - name: system suspend
    command: systemctl
    args: ["suspend"]
    description: Suspend the system

  # User services
  - name: user list
    command: systemctl
    args: ["--user", "list-units", "--type=service"]
    description: List user services

  - name: user status
    command: systemctl
    args: ["--user", "status", "{{service}}"]
    description: Status of user service
    placeholders:
      service:
        source: "systemctl --user list-units --type=service --no-legend | awk '{print $1}'"

  - name: user restart
    command: systemctl
    args: ["--user", "restart", "{{service}}"]
    description: Restart user service
    placeholders:
      service:
        source: "systemctl --user list-units --type=service --no-legend | awk '{print $1}'"
